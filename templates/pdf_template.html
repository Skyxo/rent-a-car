<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProcÃ¨s-Verbal de MatÃ©riel LouÃ©</title>
    <style>
        @page {
            size: A4;
            margin: 1cm 1.5cm;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 9pt;
            line-height: 1.3;
            color: #000;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }
        
        .header {
            position: relative;
            margin-bottom: 10px;
            border-bottom: 2px solid #16283E;
            padding-bottom: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo-left {
            max-width: 150px;
            height: auto;
        }
        
        .logo-right {
            max-width: 120px;
            height: auto;
        }
        
        .header-center {
            flex: 1;
            text-align: center;
        }
        
        h1 {
            color: #16283E;
            font-size: 15pt;
            margin: 0;
        }
        
        h2 {
            color: #FF0043;
            font-size: 11pt;
            margin: 8px 0 5px 0;
            border-bottom: 1px solid #FF0043;
            padding-bottom: 2px;
        }
        
        .info-section {
            margin-bottom: 8px;
        }
        
        .info-row {
            display: flex;
            margin-bottom: 3px;
        }
        
        .info-label {
            font-weight: bold;
            width: 120px;
            color: #16283E;
        }
        
        .info-value {
            flex: 1;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 8px;
            font-size: 8pt;
        }
        
        th {
            background-color: #16283E;
            color: white;
            padding: 4px;
            text-align: left;
            font-weight: bold;
            border: 1px solid #16283E;
        }
        
        td {
            padding: 3px 4px;
            border: 1px solid #333;
        }
        
        .status-bon {
            color: #28a745;
            font-weight: bold;
        }
        
        .status-defectueux {
            color: #dc3545;
            font-weight: bold;
        }
        
        .status-empty {
            color: #999;
        }
        
        .signature-section {
            margin-top: 10px;
            display: flex;
            justify-content: space-between;
        }
        
        .signature-box {
            width: 48%;
            border: 1px solid #16283E;
            padding: 5px;
            min-height: 80px;
        }
        
        .signature-title {
            font-weight: bold;
            color: #FF0043;
            margin-bottom: 5px;
            text-align: center;
            font-size: 9pt;
        }
        
        .signature-img {
            max-width: 100%;
            max-height: 60px;
            display: block;
            margin: 0 auto;
        }
        
        .footer {
            margin-top: 10px;
            text-align: center;
            font-size: 7pt;
            color: #666;
            border-top: 1px solid #ccc;
            padding-top: 5px;
        }
        
        .dates-section {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        
        .photos-section {
            margin-top: 8px;
            margin-bottom: 8px;
            page-break-inside: avoid;
        }
        
        .photos-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 5px;
        }
        
        .photo-item {
            width: calc(25% - 4px);
            border: 1px solid #ddd;
            padding: 3px;
            text-align: center;
        }
        
        .photo-item img {
            max-width: 100%;
            max-height: 80px;
            height: auto;
            display: block;
            margin: 0 auto 2px auto;
        }
        
        .photo-label {
            font-size: 6pt;
            color: #666;
            font-weight: bold;
        }
        
        .date-box {
            width: 48%;
            border: 1px solid #16283E;
            padding: 5px;
            background-color: #f8f9fa;
        }
        
        .date-box h3 {
            color: #FF0043;
            font-size: 9pt;
            margin-bottom: 4px;
        }
        
        .alert-fuite {
            background-color: #fff3cd;
            border: 1px solid #ffc107;
            padding: 3px;
            margin: 3px 0;
            color: #856404;
            font-weight: bold;
        }
        
        .observations-box {
            border: 1px solid #16283E;
            padding: 5px;
            margin: 5px 0;
            min-height: 40px;
            background-color: #f8f9fa;
        }
    </style>
</head>
<body>
    <!-- En-tÃªte -->
    <div class="header">
        <img src="/static/logo.png" alt="Logo France Montage" class="logo-left">
        <div class="header-center">
            <h1>PROCÃˆS-VERBAL DE MATÃ‰RIEL LOUÃ‰</h1>
        </div>
        <img src="/static/qpe.png" alt="Logo QPE" class="logo-right">
    </div>

    <!-- Informations GÃ©nÃ©rales -->
    <div class="info-section">
        <h2>Identification du MatÃ©riel</h2>
        <div class="info-row">
            <div class="info-label">Chantier :</div>
            <div class="info-value">{{ chantier }}</div>
        </div>
        <div class="info-row">
            <div class="info-label">MatÃ©riel / NÂ° :</div>
            <div class="info-value">{{ materiel_numero }}</div>
        </div>
        <div class="info-row">
            <div class="info-label">Type :</div>
            <div class="info-value">{{ materiel_type }}</div>
        </div>
        <div class="info-row">
            <div class="info-label">Fournisseur :</div>
            <div class="info-value">{{ fournisseur }}</div>
        </div>
        <div class="info-row">
            <div class="info-label">Responsable Chantier :</div>
            <div class="info-value">{{ responsable }}</div>
        </div>
    </div>

    <!-- Dates et Compteurs -->
    <div class="dates-section">
        <div class="date-box">
            <h3>RÃ‰CEPTION</h3>
            <div class="info-row">
                <div class="info-label">Date :</div>
                <div class="info-value">{{ date_reception or 'Non renseignÃ©' }}</div>
            </div>
            <div class="info-row">
                <div class="info-label">Compteur :</div>
                <div class="info-value">{{ compteur_reception or 'N/A' }} h</div>
            </div>
        </div>
        
        <div class="date-box">
            <h3>RETOUR</h3>
            <div class="info-row">
                <div class="info-label">Date :</div>
                <div class="info-value">{{ date_retour or 'Non renseignÃ©' }}</div>
            </div>
            <div class="info-row">
                <div class="info-label">Compteur :</div>
                <div class="info-value">{{ compteur_retour or 'N/A' }} h</div>
            </div>
        </div>
    </div>

    <!-- Inspection - Aspect ExtÃ©rieur -->
    <h2>Inspection - Aspect ExtÃ©rieur</h2>
    <table>
        <thead>
            <tr>
                <th style="width: 40%;">Ã‰lÃ©ment</th>
                <th style="width: 30%; text-align: center;">RÃ©ception</th>
                <th style="width: 30%; text-align: center;">Retour</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Carrosserie / RÃ©troviseurs</td>
                <td style="text-align: center;">
                    {% if carrosserie_reception == 'bon' %}
                        <span class="status-bon">âœ“ BON</span>
                    {% elif carrosserie_reception == 'defectueux' %}
                        <span class="status-defectueux">âœ— DÃ‰FECTUEUX</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
                <td style="text-align: center;">
                    {% if carrosserie_retour == 'bon' %}
                        <span class="status-bon">âœ“ BON</span>
                    {% elif carrosserie_retour == 'defectueux' %}
                        <span class="status-defectueux">âœ— DÃ‰FECTUEUX</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
            </tr>
            
            <tr>
                <td>Ã‰clairage / Gyrophare</td>
                <td style="text-align: center;">
                    {% if eclairage_reception == 'bon' %}
                        <span class="status-bon">âœ“ BON</span>
                    {% elif eclairage_reception == 'defectueux' %}
                        <span class="status-defectueux">âœ— DÃ‰FECTUEUX</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
                <td style="text-align: center;">
                    {% if eclairage_retour == 'bon' %}
                        <span class="status-bon">âœ“ BON</span>
                    {% elif eclairage_retour == 'defectueux' %}
                        <span class="status-defectueux">âœ— DÃ‰FECTUEUX</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
            </tr>
            
            <tr>
                <td>Pneumatiques</td>
                <td style="text-align: center;">
                    {% if pneumatiques_reception == 'bon' %}
                        <span class="status-bon">âœ“ BON</span>
                    {% elif pneumatiques_reception == 'defectueux' %}
                        <span class="status-defectueux">âœ— DÃ‰FECTUEUX</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
                <td style="text-align: center;">
                    {% if pneumatiques_retour == 'bon' %}
                        <span class="status-bon">âœ“ BON</span>
                    {% elif pneumatiques_retour == 'defectueux' %}
                        <span class="status-defectueux">âœ— DÃ‰FECTUEUX</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
            </tr>
            
            <tr>
                <td>Panier (si applicable)</td>
                <td style="text-align: center;">
                    {% if panier_reception == 'bon' %}
                        <span class="status-bon">âœ“ BON</span>
                    {% elif panier_reception == 'defectueux' %}
                        <span class="status-defectueux">âœ— DÃ‰FECTUEUX</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
                <td style="text-align: center;">
                    {% if panier_retour == 'bon' %}
                        <span class="status-bon">âœ“ BON</span>
                    {% elif panier_retour == 'defectueux' %}
                        <span class="status-defectueux">âœ— DÃ‰FECTUEUX</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
            </tr>
            
            <tr>
                <td>Flexibles, faisceaux Ã©lectrique</td>
                <td style="text-align: center;">
                    {% if flexibles_reception == 'bon' %}
                        <span class="status-bon">âœ“ BON</span>
                    {% elif flexibles_reception == 'defectueux' %}
                        <span class="status-defectueux">âœ— DÃ‰FECTUEUX</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
                <td style="text-align: center;">
                    {% if flexibles_retour == 'bon' %}
                        <span class="status-bon">âœ“ BON</span>
                    {% elif flexibles_retour == 'defectueux' %}
                        <span class="status-defectueux">âœ— DÃ‰FECTUEUX</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
            </tr>
            
            <tr>
                <td>Commandes</td>
                <td style="text-align: center;">
                    {% if commandes_reception == 'bon' %}
                        <span class="status-bon">âœ“ BON</span>
                    {% elif commandes_reception == 'defectueux' %}
                        <span class="status-defectueux">âœ— DÃ‰FECTUEUX</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
                <td style="text-align: center;">
                    {% if commandes_retour == 'bon' %}
                        <span class="status-bon">âœ“ BON</span>
                    {% elif commandes_retour == 'defectueux' %}
                        <span class="status-defectueux">âœ— DÃ‰FECTUEUX</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Photos - Aspect ExtÃ©rieur - RÃ©ception -->
    {% if photo_carrosserie_reception or photo_eclairage_reception or photo_pneumatiques_reception or photo_panier_reception or photo_flexibles_reception or photo_commandes_reception %}
    <div class="photos-section">
        <h3 style="color: #16283E; font-size: 10pt; margin-bottom: 8px;">ðŸ“· Photos RÃ©ception - Aspect ExtÃ©rieur</h3>
        <div class="photos-grid">
            {% if photo_carrosserie_reception %}
                {% for photo in photo_carrosserie_reception %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="Carrosserie">
                    <div class="photo-label">Carrosserie / RÃ©troviseurs</div>
                </div>
                {% endfor %}
            {% endif %}
            
            {% if photo_eclairage_reception %}
                {% for photo in photo_eclairage_reception %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="Ã‰clairage">
                    <div class="photo-label">Ã‰clairage / Gyrophare</div>
                </div>
                {% endfor %}
            {% endif %}
            
            {% if photo_pneumatiques_reception %}
                {% for photo in photo_pneumatiques_reception %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="Pneumatiques">
                    <div class="photo-label">Pneumatiques</div>
                </div>
                {% endfor %}
            {% endif %}
            
            {% if photo_panier_reception %}
                {% for photo in photo_panier_reception %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="Panier">
                    <div class="photo-label">Panier</div>
                </div>
                {% endfor %}
            {% endif %}
            
            {% if photo_flexibles_reception %}
                {% for photo in photo_flexibles_reception %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="Flexibles">
                    <div class="photo-label">Flexibles / Faisceaux</div>
                </div>
                {% endfor %}
            {% endif %}
            
            {% if photo_commandes_reception %}
                {% for photo in photo_commandes_reception %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="Commandes">
                    <div class="photo-label">Commandes</div>
                </div>
                {% endfor %}
            {% endif %}
        </div>
    </div>
    {% endif %}
    
    <!-- Photos - Aspect ExtÃ©rieur - Retour -->
    {% if photo_carrosserie_retour or photo_eclairage_retour or photo_pneumatiques_retour or photo_panier_retour or photo_flexibles_retour or photo_commandes_retour %}
    <div class="photos-section">
        <h3 style="color: #16283E; font-size: 10pt; margin-bottom: 8px;">ðŸ“· Photos Retour - Aspect ExtÃ©rieur</h3>
        <div class="photos-grid">
            {% if photo_carrosserie_retour %}
                {% for photo in photo_carrosserie_retour %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="Carrosserie">
                    <div class="photo-label">Carrosserie / RÃ©troviseurs</div>
                </div>
                {% endfor %}
            {% endif %}
            
            {% if photo_eclairage_retour %}
                {% for photo in photo_eclairage_retour %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="Ã‰clairage">
                    <div class="photo-label">Ã‰clairage / Gyrophare</div>
                </div>
                {% endfor %}
            {% endif %}
            
            {% if photo_pneumatiques_retour %}
                {% for photo in photo_pneumatiques_retour %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="Pneumatiques">
                    <div class="photo-label">Pneumatiques</div>
                </div>
                {% endfor %}
            {% endif %}
            
            {% if photo_panier_retour %}
                {% for photo in photo_panier_retour %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="Panier">
                    <div class="photo-label">Panier</div>
                </div>
                {% endfor %}
            {% endif %}
            
            {% if photo_flexibles_retour %}
                {% for photo in photo_flexibles_retour %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="Flexibles">
                    <div class="photo-label">Flexibles / Faisceaux</div>
                </div>
                {% endfor %}
            {% endif %}
            
            {% if photo_commandes_retour %}
                {% for photo in photo_commandes_retour %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="Commandes">
                    <div class="photo-label">Commandes</div>
                </div>
                {% endfor %}
            {% endif %}
        </div>
    </div>
    {% endif %}

    <!-- Inspection - Fonctionnement -->
    <h2>Inspection - Fonctionnement</h2>
    <table>
        <thead>
            <tr>
                <th style="width: 40%;">Ã‰lÃ©ment</th>
                <th style="width: 30%; text-align: center;">RÃ©ception</th>
                <th style="width: 30%; text-align: center;">Retour</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>ConformitÃ© rÃ©glementaire</td>
                <td style="text-align: center;">
                    {% if conformite_reception == 'bon' %}
                        <span class="status-bon">âœ“ BON</span>
                    {% elif conformite_reception == 'defectueux' %}
                        <span class="status-defectueux">âœ— DÃ‰FECTUEUX</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
                <td style="text-align: center;">
                    {% if conformite_retour == 'bon' %}
                        <span class="status-bon">âœ“ BON</span>
                    {% elif conformite_retour == 'defectueux' %}
                        <span class="status-defectueux">âœ— DÃ‰FECTUEUX</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
            </tr>
            
            <tr>
                <td>Essais de mobilitÃ©s</td>
                <td style="text-align: center;">
                    {% if mobilites_reception == 'bon' %}
                        <span class="status-bon">âœ“ BON</span>
                    {% elif mobilites_reception == 'defectueux' %}
                        <span class="status-defectueux">âœ— DÃ‰FECTUEUX</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
                <td style="text-align: center;">
                    {% if mobilites_retour == 'bon' %}
                        <span class="status-bon">âœ“ BON</span>
                    {% elif mobilites_retour == 'defectueux' %}
                        <span class="status-defectueux">âœ— DÃ‰FECTUEUX</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
            </tr>
            
            <tr>
                <td>Essais de nacelles</td>
                <td style="text-align: center;">
                    {% if nacelles_reception == 'bon' %}
                        <span class="status-bon">âœ“ BON</span>
                    {% elif nacelles_reception == 'defectueux' %}
                        <span class="status-defectueux">âœ— DÃ‰FECTUEUX</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
                <td style="text-align: center;">
                    {% if nacelles_retour == 'bon' %}
                        <span class="status-bon">âœ“ BON</span>
                    {% elif nacelles_retour == 'defectueux' %}
                        <span class="status-defectueux">âœ— DÃ‰FECTUEUX</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
            </tr>
            
            <tr>
                <td>Dispositifs de sÃ©curitÃ©</td>
                <td style="text-align: center;">
                    {% if securite_reception == 'bon' %}
                        <span class="status-bon">âœ“ BON</span>
                    {% elif securite_reception == 'defectueux' %}
                        <span class="status-defectueux">âœ— DÃ‰FECTUEUX</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
                <td style="text-align: center;">
                    {% if securite_retour == 'bon' %}
                        <span class="status-bon">âœ“ BON</span>
                    {% elif securite_retour == 'defectueux' %}
                        <span class="status-defectueux">âœ— DÃ‰FECTUEUX</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Photos - Fonctionnement - RÃ©ception -->
    {% if photo_conformite_reception or photo_mobilites_reception or photo_nacelles_reception or photo_securite_reception %}
    <div class="photos-section">
        <h3 style="color: #16283E; font-size: 10pt; margin-bottom: 8px;">ðŸ“· Photos RÃ©ception - Fonctionnement</h3>
        <div class="photos-grid">
            {% if photo_conformite_reception %}
                {% for photo in photo_conformite_reception %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="ConformitÃ©">
                    <div class="photo-label">ConformitÃ© rÃ©glementaire</div>
                </div>
                {% endfor %}
            {% endif %}
            
            {% if photo_mobilites_reception %}
                {% for photo in photo_mobilites_reception %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="MobilitÃ©s">
                    <div class="photo-label">Essais de mobilitÃ©s</div>
                </div>
                {% endfor %}
            {% endif %}
            
            {% if photo_nacelles_reception %}
                {% for photo in photo_nacelles_reception %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="Nacelles">
                    <div class="photo-label">Essais de nacelles</div>
                </div>
                {% endfor %}
            {% endif %}
            
            {% if photo_securite_reception %}
                {% for photo in photo_securite_reception %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="SÃ©curitÃ©">
                    <div class="photo-label">Dispositifs de sÃ©curitÃ©</div>
                </div>
                {% endfor %}
            {% endif %}
        </div>
    </div>
    {% endif %}
    
    <!-- Photos - Fonctionnement - Retour -->
    {% if photo_conformite_retour or photo_mobilites_retour or photo_nacelles_retour or photo_securite_retour %}
    <div class="photos-section">
        <h3 style="color: #16283E; font-size: 10pt; margin-bottom: 8px;">ðŸ“· Photos Retour - Fonctionnement</h3>
        <div class="photos-grid">
            {% if photo_conformite_retour %}
                {% for photo in photo_conformite_retour %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="ConformitÃ©">
                    <div class="photo-label">ConformitÃ© rÃ©glementaire</div>
                </div>
                {% endfor %}
            {% endif %}
            
            {% if photo_mobilites_retour %}
                {% for photo in photo_mobilites_retour %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="MobilitÃ©s">
                    <div class="photo-label">Essais de mobilitÃ©s</div>
                </div>
                {% endfor %}
            {% endif %}
            
            {% if photo_nacelles_retour %}
                {% for photo in photo_nacelles_retour %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="Nacelles">
                    <div class="photo-label">Essais de nacelles</div>
                </div>
                {% endfor %}
            {% endif %}
            
            {% if photo_securite_retour %}
                {% for photo in photo_securite_retour %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="SÃ©curitÃ©">
                    <div class="photo-label">Dispositifs de sÃ©curitÃ©</div>
                </div>
                {% endfor %}
            {% endif %}
        </div>
    </div>
    {% endif %}

    <!-- Fluides -->
    <h2>Fluides</h2>
    <table>
        <thead>
            <tr>
                <th style="width: 40%;">Type</th>
                <th style="width: 30%; text-align: center;">RÃ©ception</th>
                <th style="width: 30%; text-align: center;">Retour</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Niveau Carburant</td>
                <td style="text-align: center;">{{ carburant_reception or '-' }}%</td>
                <td style="text-align: center;">{{ carburant_retour or '-' }}%</td>
            </tr>
            <tr>
                <td>Fuites Moteur</td>
                <td style="text-align: center;">
                    {% if fuite_moteur_reception == 'oui' %}
                        <span class="status-defectueux">âš  OUI</span>
                    {% elif fuite_moteur_reception == 'non' %}
                        <span class="status-bon">NON</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
                <td style="text-align: center;">
                    {% if fuite_moteur_retour == 'oui' %}
                        <span class="status-defectueux">âš  OUI</span>
                    {% elif fuite_moteur_retour == 'non' %}
                        <span class="status-bon">NON</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
            </tr>
            <tr>
                <td>Fuites Hydraulique</td>
                <td style="text-align: center;">
                    {% if fuite_hydraulique_reception == 'oui' %}
                        <span class="status-defectueux">âš  OUI</span>
                    {% elif fuite_hydraulique_reception == 'non' %}
                        <span class="status-bon">NON</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
                <td style="text-align: center;">
                    {% if fuite_hydraulique_retour == 'oui' %}
                        <span class="status-defectueux">âš  OUI</span>
                    {% elif fuite_hydraulique_retour == 'non' %}
                        <span class="status-bon">NON</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
            </tr>
            <tr>
                <td>Fuites Gasoil</td>
                <td style="text-align: center;">
                    {% if fuite_gasoil_reception == 'oui' %}
                        <span class="status-defectueux">âš  OUI</span>
                    {% elif fuite_gasoil_reception == 'non' %}
                        <span class="status-bon">NON</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
                <td style="text-align: center;">
                    {% if fuite_gasoil_retour == 'oui' %}
                        <span class="status-defectueux">âš  OUI</span>
                    {% elif fuite_gasoil_retour == 'non' %}
                        <span class="status-bon">NON</span>
                    {% else %}
                        <span class="status-empty">-</span>
                    {% endif %}
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Photos - Fuites -->
    {% if photo_fuite_reception or photo_fuite_retour %}
    <div class="photos-section">
        <h3 style="color: #16283E; font-size: 10pt; margin-bottom: 8px;">ðŸ“· Photos - Fuites</h3>
        <div class="photos-grid">
            {% if photo_fuite_reception %}
                {% for photo in photo_fuite_reception %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="Fuites RÃ©ception">
                    <div class="photo-label">Fuites - RÃ©ception</div>
                </div>
                {% endfor %}
            {% endif %}
            
            {% if photo_fuite_retour %}
                {% for photo in photo_fuite_retour %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="Fuites Retour">
                    <div class="photo-label">Fuites - Retour</div>
                </div>
                {% endfor %}
            {% endif %}
        </div>
    </div>
    {% endif %}

    <!-- Observations -->
    <h2>Observations</h2>
    <div class="dates-section">
        <div class="observations-box" style="width: 48%;">
            <strong>RÃ©ception :</strong><br>
            {{ observations_reception or 'Aucune observation' }}
        </div>
        <div class="observations-box" style="width: 48%;">
            <strong>Retour :</strong><br>
            {{ observations_retour or 'Aucune observation' }}
        </div>
    </div>

    <!-- Photos - Observations -->
    {% if photo_observation_reception or photo_observation_retour %}
    <div class="photos-section">
        <h3 style="color: #16283E; font-size: 10pt; margin-bottom: 8px;">ðŸ“· Photos - Observations</h3>
        <div class="photos-grid">
            {% if photo_observation_reception %}
                {% for photo in photo_observation_reception %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="Observations RÃ©ception">
                    <div class="photo-label">Observations - RÃ©ception</div>
                </div>
                {% endfor %}
            {% endif %}
            
            {% if photo_observation_retour %}
                {% for photo in photo_observation_retour %}
                <div class="photo-item">
                    <img src="{{ photo }}" alt="Observations Retour">
                    <div class="photo-label">Observations - Retour</div>
                </div>
                {% endfor %}
            {% endif %}
        </div>
    </div>
    {% endif %}

    <!-- Signatures -->
    <div class="signature-section">
        <div class="signature-box">
            <div class="signature-title">VISA RÃ‰CEPTION</div>
            {% if signature_reception %}
                <img src="{{ signature_reception }}" alt="Signature RÃ©ception" class="signature-img">
            {% else %}
                <p style="text-align: center; color: #999; margin-top: 30px;">Non signÃ©e</p>
            {% endif %}
        </div>
        
        <div class="signature-box">
            <div class="signature-title">VISA RETOUR</div>
            {% if signature_retour %}
                <img src="{{ signature_retour }}" alt="Signature Retour" class="signature-img">
            {% else %}
                <p style="text-align: center; color: #999; margin-top: 30px;">Non signÃ©e</p>
            {% endif %}
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <p>Document gÃ©nÃ©rÃ© automatiquement le {{ date_generation }}</p>
        <p>France Montage - Groupe Briand - 3 rue du 11 Novembre 1918, 85500 Les Herbiers</p>
    </div>
</body>
</html>
